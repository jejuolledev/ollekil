rules_version = '2';

// Firebase Storage 보안 규칙
service firebase.storage {
  match /b/{bucket}/o {
    // 인증된 관리자만 업로드/수정/삭제 가능
    match /travel/{imageId} {
      // 읽기는 모든 사용자 허용
      allow read: if true;

      // 쓰기는 인증된 관리자만 허용
      allow write: if request.auth != null
                   && request.auth.token.email == 'jejuolleapps@gmail.com';
    }

    // 기타 경로는 기본적으로 거부
    match /{allPaths=**} {
      allow read: if true;
      allow write: if request.auth != null
                   && request.auth.token.email == 'jejuolleapps@gmail.com';
    }
  }
}
